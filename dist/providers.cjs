"use strict";var L=Object.defineProperty;var V=(t,n,e)=>n in t?L(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var m=(t,n,e)=>(V(t,typeof n!="symbol"?n+"":n,e),e),x=(t,n,e)=>{if(!n.has(t))throw TypeError("Cannot "+e)};var c=(t,n,e)=>(x(t,n,"read from private field"),e?e.call(t):n.get(t)),v=(t,n,e)=>{if(n.has(t))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(t):n.set(t,e)},l=(t,n,e,r)=>(x(t,n,"write to private field"),r?r.call(t,e):n.set(t,e),e);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const K=require("./_commonjsHelpers-DwGv2jUC.cjs"),M=require("./JsonRpcEngine-ClIOVKXW.cjs"),R=require("./classes-6zjC54GF.cjs"),w=require("./rpcErrors.cjs"),G=require("./safeEventEmitter.cjs"),S=require("./versions-CznKZ0ZU.cjs");require("./events-B8HGIuEk.cjs");const A=require("./browser-DjQM3S9H.cjs"),X=require("./createStreamMiddleware-Ciy0ZHFH.cjs"),J=require("./objectMultiplex.cjs");var Q=function t(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;var r,i,s;if(Array.isArray(n)){if(r=n.length,r!=e.length)return!1;for(i=r;i--!==0;)if(!t(n[i],e[i]))return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===e.toString();if(s=Object.keys(n),r=s.length,r!==Object.keys(e).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(n[o],e[o]))return!1}return!0}return n!==n&&e!==e};const H=K.getDefaultExportFromCjs(Q),a={errors:{disconnected:()=>"ZondWallet: Disconnected from chain. Attempting to connect.",permanentlyDisconnected:()=>"ZondWallet: Disconnected from ZondWallet background. Page reload required.",sendSiteMetadata:()=>"ZondWallet: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:t=>`ZondWallet: The ZondWallet Ethereum provider does not support synchronous methods like ${t} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidNetworkParams:()=>"ZondWallet: Received invalid network parameters. Please report this bug.",invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:t=>`'args.logger' must include required method '${t}'.`},info:{connected:t=>`ZondWallet: Connected to chain with ID "${t}".`},warnings:{enableDeprecation:`ZondWallet: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1102`,sendDeprecation:`ZondWallet: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193`,events:{close:`ZondWallet: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect`,data:`ZondWallet: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`,networkChanged:`ZondWallet: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged`,notification:`ZondWallet: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`},rpc:{ethDecryptDeprecation:`ZondWallet: The RPC method 'eth_decrypt' is deprecated and may be removed in the future.
For more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,ethGetEncryptionPublicKeyDeprecation:`ZondWallet: The RPC method 'eth_getEncryptionPublicKey' is deprecated and may be removed in the future.
For more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,walletWatchAssetNFTExperimental:"ZondWallet: The RPC method 'wallet_watchAsset' is experimental for ERC721/ERC1155 assets and may change in the future."},experimentalMethods:"ZondWallet: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning."}},Y="ERC721",ee="ERC1155";function te(t){const n={ethDecryptDeprecation:!1,ethGetEncryptionPublicKeyDeprecation:!1,walletWatchAssetNFTExperimental:!1};return(e,r,i)=>{var s;!n.ethDecryptDeprecation&&e.method==="eth_decrypt"?(t.warn(a.warnings.rpc.ethDecryptDeprecation),n.ethDecryptDeprecation=!0):!n.ethGetEncryptionPublicKeyDeprecation&&e.method==="eth_getEncryptionPublicKey"?(t.warn(a.warnings.rpc.ethGetEncryptionPublicKeyDeprecation),n.ethGetEncryptionPublicKeyDeprecation=!0):!n.walletWatchAssetNFTExperimental&&e.method==="wallet_watchAsset"&&[Y,ee].includes(((s=e.params)==null?void 0:s.type)||"")&&(t.warn(a.warnings.rpc.walletWatchAssetNFTExperimental),n.walletWatchAssetNFTExperimental=!0),i()}}const ne=Object.freeze(["eth_subscription"]),I=(t=console)=>[M.createIdRemapMiddleware(),re(t),te(t)];function re(t){return(n,e,r)=>{(typeof n.method!="string"||!n.method)&&(e.error=w.rpcErrors.invalidRequest({message:"The request 'method' must be a non-empty string.",data:n})),r(i=>{const{error:s}=e;return s&&t.warn(`ZondWallet - RPC Error: ${s.message}`,s),i()})}}const ie=(t,n,e=!0)=>(r,i)=>{r||i.error?n(r||i.error):!e||Array.isArray(i)?t(i):t(i.result)},N=t=>!!t&&typeof t=="string"&&t.startsWith("0x"),se=t=>!!t&&typeof t=="string";var p,f;const E=class E extends G{constructor({logger:e=console,maxEventListeners:r=100,rpcMiddleware:i=[]}={}){super();m(this,"_log");m(this,"_state");m(this,"_rpcEngine");v(this,p,void 0);v(this,f,void 0);this._log=e,this.setMaxListeners(r),this._state={...E._defaultState},l(this,f,null),l(this,p,null),this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this.request=this.request.bind(this);const s=new M.JsonRpcEngine;i.forEach(o=>s.push(o)),this._rpcEngine=s}get chainId(){return c(this,p)}get selectedAddress(){return c(this,f)}isConnected(){return this._state.isConnected}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw w.rpcErrors.invalidRequest({message:a.errors.invalidRequestArgs(),data:e});const{method:r,params:i}=e;if(typeof r!="string"||r.length===0)throw w.rpcErrors.invalidRequest({message:a.errors.invalidRequestMethod(),data:e});if(i!==void 0&&!Array.isArray(i)&&(typeof i!="object"||i===null))throw w.rpcErrors.invalidRequest({message:a.errors.invalidRequestParams(),data:e});const s=i==null?{method:r}:{method:r,params:i};return new Promise((o,d)=>{this._rpcRequest(s,ie(o,d))})}_initializeState(e){if(this._state.initialized)throw new Error("Provider already initialized.");if(e){const{accounts:r,chainId:i,isUnlocked:s,networkVersion:o}=e;this._handleConnect(i),this._handleChainChanged({chainId:i,networkVersion:o}),this._handleUnlockStateChanged({accounts:r,isUnlocked:s}),this._handleAccountsChanged(r)}this._state.initialized=!0,this.emit("_initialized")}_rpcRequest(e,r){let i=r;return Array.isArray(e)?this._rpcEngine.handle(e,i):(e.jsonrpc||(e.jsonrpc="2.0"),(e.method==="eth_accounts"||e.method==="eth_requestAccounts")&&(i=(s,o)=>{this._handleAccountsChanged(o.result??[],e.method==="eth_accounts"),r(s,o)}),this._rpcEngine.handle(e,i))}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),this._log.debug(a.info.connected(e)))}_handleDisconnect(e,r){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){this._state.isConnected=!1;let i;e?(i=new R.JsonRpcError(1013,r??a.errors.disconnected()),this._log.debug(i)):(i=new R.JsonRpcError(1011,r??a.errors.permanentlyDisconnected()),this._log.error(i),l(this,p,null),this._state.accounts=null,l(this,f,null),this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",i)}}_handleChainChanged({chainId:e}={}){if(!N(e)){this._log.error(a.errors.invalidNetworkParams(),{chainId:e});return}this._handleConnect(e),e!==c(this,p)&&(l(this,p,e),this._state.initialized&&this.emit("chainChanged",c(this,p)))}_handleAccountsChanged(e,r=!1){let i=e;Array.isArray(e)||(this._log.error("ZondWallet: Received invalid accounts parameter. Please report this bug.",e),i=[]);for(const s of e)if(typeof s!="string"){this._log.error("ZondWallet: Received non-string account. Please report this bug.",e),i=[];break}if(!H(this._state.accounts,i)&&(r&&this._state.accounts!==null&&this._log.error("ZondWallet: 'eth_accounts' unexpectedly updated accounts. Please report this bug.",i),this._state.accounts=i,c(this,f)!==i[0]&&l(this,f,i[0]||null),this._state.initialized)){const s=[...i];this.emit("accountsChanged",s)}}_handleUnlockStateChanged({accounts:e,isUnlocked:r}={}){if(typeof r!="boolean"){this._log.error("ZondWallet: Received invalid isUnlocked parameter. Please report this bug.");return}r!==this._state.isUnlocked&&(this._state.isUnlocked=r,this._handleAccountsChanged(e??[]))}};p=new WeakMap,f=new WeakMap,m(E,"_defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1});let b=E;const oe=/(?:^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u,ae=/(?=^.{4,253}$)(^((?!-)[a-zA-Z0-9-]{0,62}[a-zA-Z0-9]\.)+[a-zA-Z]{2,63}$)/u;function de(t){window.addEventListener("eip6963:announceProvider",n=>{le(n)||W("Invalid EIP-6963 AnnounceProviderEvent object received from eip6963:announceProvider event."),t(n.detail)}),window.dispatchEvent(new Event("eip6963:requestProvider"))}function T(t){q(t)||W("Invalid EIP-6963 ProviderDetail object.");const{info:n,provider:e}=t,r=()=>window.dispatchEvent(new CustomEvent("eip6963:announceProvider",{detail:Object.freeze({info:{...n},provider:e})}));r(),window.addEventListener("eip6963:requestProvider",i=>{ce(i)||W("Invalid EIP-6963 RequestProviderEvent object received from eip6963:requestProvider event."),r()})}function ce(t){return t instanceof Event&&t.type==="eip6963:requestProvider"}function le(t){return t instanceof CustomEvent&&t.type==="eip6963:announceProvider"&&Object.isFrozen(t.detail)&&q(t.detail)}function q(t){if(!S.isObject(t)||!S.isObject(t.info)||!S.isObject(t.provider))return!1;const{info:n}=t;return typeof n.uuid=="string"&&oe.test(n.uuid)&&typeof n.name=="string"&&!!n.name&&typeof n.icon=="string"&&n.icon.startsWith("data:image")&&typeof n.rdns=="string"&&ae.test(n.rdns)}function W(t){throw new Error(`${t} See https://eips.ethereum.org/EIPS/eip-6963 for requirements.`)}var k=function(t,n,e){if(e||arguments.length===2)for(var r=0,i=n.length,s;r<i;r++)(s||!(r in n))&&(s||(s=Array.prototype.slice.call(n,0,r)),s[r]=n[r]);return t.concat(s||Array.prototype.slice.call(n))},he=function(){function t(n,e,r){this.name=n,this.version=e,this.os=r,this.type="browser"}return t}(),ue=function(){function t(n){this.version=n,this.type="node",this.name="node",this.os=process.platform}return t}(),pe=function(){function t(n,e,r,i){this.name=n,this.version=e,this.os=r,this.bot=i,this.type="bot-device"}return t}(),fe=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),me=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),ge=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,_e=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,D=3,ve=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",ge]],O=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function we(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new me:typeof navigator<"u"?Ee(navigator.userAgent):Pe()}function be(t){return t!==""&&ve.reduce(function(n,e){var r=e[0],i=e[1];if(n)return n;var s=i.exec(t);return!!s&&[r,s]},!1)}function Ee(t){var n=be(t);if(!n)return null;var e=n[0],r=n[1];if(e==="searchbot")return new fe;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<D&&(i=k(k([],i,!0),Se(D-i.length),!0)):i=[];var s=i.join("."),o=ye(t),d=_e.exec(t);return d&&d[1]?new pe(e,s,o,d[1]):new he(e,s,o)}function ye(t){for(var n=0,e=O.length;n<e;n++){var r=O[n],i=r[0],s=r[1],o=s.exec(t);if(o)return i}return null}function Pe(){var t=typeof process<"u"&&process.version;return t?new ue(process.version.slice(1)):null}function Se(t){for(var n=[],e=0;e<t;e++)n.push("0");return n}var y={};Object.defineProperty(y,"__esModule",{value:!0});var Z=y.PortDuplexStream=void 0;const Ce=A.browserExports;class B extends Ce.Duplex{constructor(n,e={}){super(Object.assign({objectMode:!0},e)),this._port=n,this._port.onMessage.addListener(r=>this._onMessage(r)),this._port.onDisconnect.addListener(()=>this._onDisconnect()),this._log=()=>null}_onMessage(n){if(Buffer.isBuffer(n)){const e=Buffer.from(n);this._log(e,!1),this.push(e)}else this._log(n,!1),this.push(n)}_onDisconnect(){this.destroy()}_read(){}_write(n,e,r){try{if(Buffer.isBuffer(n)){const i=n.toJSON();i._isBuffer=!0,this._log(i,!0),this._port.postMessage(i)}else this._log(n,!0),this._port.postMessage(n)}catch{return r(new Error("PortDuplexStream - disconnected"))}return r()}_setLogger(n){this._log=n}}y.default=B;Z=y.PortDuplexStream=B;const u=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";u.writable=t=>u(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";u.readable=t=>u(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";u.duplex=t=>u.writable(t)&&u.readable(t);u.transform=t=>u.duplex(t)&&typeof t._transform=="function";var Ae=u;class z extends b{constructor(e,{jsonRpcStreamName:r,logger:i=console,maxEventListeners:s=100,rpcMiddleware:o=[]}){super({logger:i,maxEventListeners:s,rpcMiddleware:o});m(this,"_jsonRpcConnection");if(!Ae.duplex(e))throw new Error(a.errors.invalidDuplexStream());this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this);const d=new J.ObjectMultiplex;A.browserExports.pipeline(e,d,e,this._handleStreamDisconnect.bind(this,"ZondWallet")),this._jsonRpcConnection=X.createStreamMiddleware({retryOnMessage:"ZOND_WALLET_EXTENSION_CONNECT_CAN_RETRY"}),A.browserExports.pipeline(this._jsonRpcConnection.stream,d.createStream(r),this._jsonRpcConnection.stream,this._handleStreamDisconnect.bind(this,"ZondWallet RpcProvider")),this._rpcEngine.push(this._jsonRpcConnection.middleware),this._jsonRpcConnection.events.on("notification",P=>{const{method:g,params:_}=P;g==="metamask_accountsChanged"?this._handleAccountsChanged(_):g==="metamask_unlockStateChanged"?this._handleUnlockStateChanged(_):g==="metamask_chainChanged"?this._handleChainChanged(_):ne.includes(g)?this.emit("message",{type:g,data:_}):g==="METAMASK_STREAM_FAILURE"&&e.destroy(new Error(a.errors.permanentlyDisconnected()))})}async _initializeStateAsync(){let e;try{e=await this.request({method:"zondWallet_getProviderState"})}catch(r){this._log.error("ZondWallet: Failed to get initial state. Please report this bug.",r)}this._initializeState(e)}_handleStreamDisconnect(e,r){let i=`ZondWallet: Lost connection to "${e}".`;r!=null&&r.stack&&(i+=`
${r.stack}`),this._log.warn(i),this.listenerCount("error")>0&&this.emit("error",i),this._handleDisconnect(!1,r?r.message:void 0)}_handleChainChanged({chainId:e,networkVersion:r}={}){if(!N(e)||!se(r)){this._log.error(a.errors.invalidNetworkParams(),{chainId:e,networkVersion:r});return}r==="loading"?this._handleDisconnect(!0):super._handleChainChanged({chainId:e})}}class $ extends z{async initialize(){return this._initializeStateAsync()}}const We={stable:"nkbihfbeogaeaoehlefnkodbefgpgknn",beta:"pbbkamfgmaedccnfkmjcofcecjhfgldn",flask:"ljfoeinjpaedjfecbmggjgodbgkmjkjk"},xe={stable:"webextension@metamask.io",beta:"webextension-beta@metamask.io",flask:"webextension-flask@metamask.io"},j={chromeIds:We,firefoxIds:xe},F="zond-wallet-provider",C=we(),Re=F;function ke(t="stable"){let n;try{const e=De(t),r=chrome.runtime.connect(e),i=new Z(r);n=new $(i,{jsonRpcStreamName:Re,logger:console,rpcMiddleware:I(console)}),n.initialize()}catch(e){throw console.dir("ZondWallet connect error.",e),e}return n}function De(t){return((C==null?void 0:C.name)==="firefox"?j.firefoxIds:j.chromeIds)[t]??t}var h;class U extends z{constructor(e,{jsonRpcStreamName:r=F,logger:i=console,maxEventListeners:s=100}={}){super(e,{jsonRpcStreamName:r,logger:i,maxEventListeners:s,rpcMiddleware:I(i)});v(this,h,void 0);m(this,"isZondWallet");this._initializeStateAsync(),l(this,h,null),this.isZondWallet=!0}get chainId(){return super.chainId}get networkVersion(){return c(this,h)}get selectedAddress(){return super.selectedAddress}_handleDisconnect(e,r){super._handleDisconnect(e,r),c(this,h)&&!e&&l(this,h,null)}_handleChainChanged({chainId:e,networkVersion:r}={}){super._handleChainChanged({chainId:e,networkVersion:r}),this._state.isConnected&&r!==c(this,h)&&(l(this,h,r),this._state.initialized&&this.emit("networkChanged",c(this,h)))}}h=new WeakMap;function Oe({connectionStream:t,jsonRpcStreamName:n,logger:e=console,maxEventListeners:r=100,providerInfo:i}){const s=new U(t,{jsonRpcStreamName:n,logger:e,maxEventListeners:r}),o=new Proxy(s,{deleteProperty:()=>!0,get(d,P){return d[P]}});return T({info:i,provider:o}),o}exports.BaseProvider=b;exports.StreamProvider=$;exports.ZondWalletInpageProvider=U;exports.createExternalExtensionProvider=ke;exports.eip6963AnnounceProvider=T;exports.eip6963RequestProvider=de;exports.initializeProvider=Oe;
